<my-sidebar></my-sidebar>
<div class="main-content" style="background-color: #f1f0f0; min-height: 100vh;">
	<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4" >
		<h1> <i class="fas fa-user-circle fa-fw me-3 mt-4" ></i>Users</h1>						
		<div class=" col-xl-2  mb-2">
			<button  class="form-control btn btn-primary"(click)="add()" style=" margin-left: 850px; "> <i class="fa fa-user-plus fa-fw me-3"></i>
			Add User
		    </button>
		</div>		
		<div class="row">
			<div class="col-md-12">
				<div class="user-dashboard-info-box table-responsive mb-0 bg-white p-4 shadow" >
					<table class="table manage-candidates-top mb-0">
						<thead class="thead">
							<tr>
								<th>User Name</th>
								<th class="text-center">LastName</th>
								<th >Mobile</th>
								<th class="action text-right">Action</th>
							</tr>
						</thead>
						<tbody >
							<tr class="candidates-list" *ngFor="let user of paginatedItems"> 
								<td class="title">
									<div class="thumb"> 
									<img class="img-fluid" src="{{user.picture}}" alt="">
									</div>
									<div class="candidate-list-details">
										<div class="candidate-list-info">
											<div class="candidate-list-title">
												<a class="candidate-list-favourite order-2 text-danger" (click)="consulter(user.id_user)"></a>
												<span class="candidate-list-time order-1">{{user.firstname}}</span>
											</div>
											<div class="candidate-list-option">
												<ul class="list-unstyled">
													<li><i class="fas fa-envelope "></i>{{user.mail}}</li>
													<li (click)="navigateToLocation(user.address)"class="location-item">
														<i class="fas fa-map-marker-alt pr-1"></i>{{user.address}}</li>
												</ul>
											</div>
										</div>
									</div>
								</td>
								<td class="candidate-list-favourite-time text-center">
									<a class="candidate-list-favourite order-2 text-danger" href="#"></a>
									<span class="candidate-list-time order-1">{{user.lastname}}</span>
								</td>
								<td>{{user.mobile}}</td>
								<td>
									<ul class="list-unstyled mb-0 d-flex justify-content-end">
									<li><a  class="text-primary" data-toggle="tooltip" title="" data-original-title="view" (click)="consulter(user.id_user)" ><i class="far fa-eye"></i></a></li>
									<li><a  class="text-info" data-toggle="tooltip" title="" data-original-title="Edit"(click)="modifier(user.id_user)"><i class="fas fa-pencil-alt"></i></a></li>
									<li><a  class="text-danger" data-toggle="tooltip" title="" data-original-title="Delete" (click)="openModal(template)"><i class="far fa-trash-alt"></i></a></li>
									<ng-template #template>
										<div class="modal-header" >
										<h4 class="modal-title" id="modal-basic-title"> DELETE USER</h4>
											<button type="button" class="close" (click)="close()">&times;</button>
										
										</div>
										<div class="modal-body">
											Do you want to delete this user?
										</div>
										<div class="modal-footer">
										<button type="button" class="btn btn-outline-primary bg-primary text-white"(click)="deleteItem(user.id_user)">Confirm</button>
										<button type="button" class="btn btn-outline-dark" (click)="close()">Cancel</button>


										</div>
									</ng-template>
									</ul>
								</td>
							</tr>
						</tbody>
					</table>
					<div class="d-flex justify-content-end align-items-center mt-3">
						<ul class="pagination p-effect">
							<li [class.disabled]="currentPage === 1">
								<a (click)="prevPage()">Previous</a>
							</li>
							<li >
								<a  style="background-color:#0d6efd ;   border-color: #0d6efd;color: white;">{{ currentPage }}</a>
							</li>
							<li [class.disabled]="currentPage === totalPages">
								<a (click)="nextPage()">Next</a>
							</li>
						</ul>		
					</div>
				</div>
			</div>

		</div>

	</main>
	
</div>



	

